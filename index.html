<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cost Split Calculator</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="assets/icon-mini.png" type="image/png" />
  </head>

  <body>
    <div class="flex-row">
      <h1>Cost Split Calculator</h1>
      <span
        id="theme-toggle"
        role="button"
        tabindex="0"
        aria-label="Toggle theme"
        >ðŸŒ™</span
      >
    </div>

    <div id="pool-section">
      <label for="pool-name" class="hidden">Pool Name</label>
      <input type="text" id="pool-name" placeholder="Pool name" />
      <button id="new-pool" type="button">New Pool</button>
      <button id="save-local" type="button">Save Pool</button>
      <div class="table-container">
        <table id="saved-pools-table"></table>
      </div>
    </div>

    <h2>1. People</h2>
    <div id="people-section">
      <label for="person-name" class="hidden">Person Name</label>
      <input type="text" id="person-name" placeholder="Name" />
      <button id="save-people" type="button">Add Person</button>
      <ul id="people-list"></ul>
    </div>

    <h2>2. Transactions</h2>
    <div id="transactions-section" class="table-container">
      <table id="transaction-table"></table>
    </div>

    <h2>3. Cost Splits</h2>
    <div id="splits-section">
      <div id="split-table" class="table-container"></div>
      <div id="split-details"></div>
    </div>

    <h2>4. Summary</h2>
    <div id="summary" class="table-container"></div>

    <h2>5. Save/Load State</h2>
    <div class="flex-row">
      <label for="state-json-display">Current state JSON</label>
      <input
        id="state-json-display"
        type="text"
        readonly
        class="readonly-field"
        placeholder="Current state JSON"
      />
      <button id="download-json" type="button">Download JSON File</button>
    </div>
    <label for="state-json-input" class="hidden">State JSON</label>
    <textarea
      id="state-json-input"
      rows="8"
      cols="50"
      placeholder="State JSON"
    ></textarea>
    <br />
    <button id="load-json" type="button">Load from JSON</button>
    <button id="load-json-file" type="button">Load from JSON File</button>
    <label for="state-json-file" class="hidden">State JSON File</label>
    <input
      type="file"
      id="state-json-file"
      accept="application/json"
      class="hidden"
    />

    <h2>6. Share</h2>
    <div class="flex-row">
      <label for="share-url-display">Shareable URL</label>
      <input
        id="share-url-display"
        type="text"
        readonly
        class="readonly-field"
        placeholder="Shareable URL"
      />
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.5.0/lz-string.min.js"></script>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
