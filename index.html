<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cost Split Calculator</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="assets/icon-mini.png" type="image/png" />
  </head>

  <body>
    <div class="flex-row">
      <h1>Cost Split Calculator</h1>
    </div>

    <section id="pool-section" class="section-block">
      <h2>Save/Load Local Pools</h2>
      <label for="pool-name" class="hidden">Pool Name</label>
      <input type="text" id="pool-name" placeholder="Pool name" />
      <span id="pool-unsaved" class="unsaved-indicator"></span>
      <button id="new-pool" type="button">New Pool</button>
      <button id="save-local" type="button">Save Pool</button>
      <div class="table-container">
        <table id="saved-pools-table"></table>
      </div>
    </section>

    <section id="people-section" class="section-block">
      <h2>1. Add People</h2>
      <label for="person-name" class="hidden">Person Name</label>
      <input type="text" id="person-name" placeholder="Name" />
      <button id="save-people" type="button">Add Person</button>
      <ul id="people-list"></ul>
    </section>

    <section id="transactions-section" class="section-block">
      <h2>2. Add Transactions</h2>
      <div id="transaction-table" class="table-container"></div>
    </section>

    <section id="splits-section" class="section-block">
      <h2>3. Distribute Cost Splits</h2>
      <div id="split-table" class="table-container"></div>
      <div id="split-details"></div>
    </section>

    <section class="section-block">
      <h2>4. View Summary</h2>
      <div id="summary" class="table-container"></div>
    </section>

    <section class="section-block">
      <h2>5. Save/Load State</h2>
      <div class="flex-row">
        <label for="state-json-display">Current state JSON</label>
        <input
          id="state-json-display"
          type="text"
          readonly
          class="readonly-field"
          placeholder="Current state JSON"
        />
        <button id="download-json" type="button">Download JSON File</button>
      </div>
      <label for="state-json-input" class="hidden">State JSON</label>
      <textarea
        id="state-json-input"
        rows="8"
        cols="50"
        placeholder="State JSON"
      ></textarea>
      <br />
      <button id="load-json" type="button">Load from JSON</button>
      <button id="load-json-file" type="button">Load from JSON File</button>
      <label for="state-json-file" class="hidden">State JSON File</label>
      <input
        type="file"
        id="state-json-file"
        accept="application/json"
        class="hidden"
      />
    </section>

    <section class="section-block">
      <h2>6. Share</h2>
      <div class="flex-row">
        <label for="share-url-display">Shareable URL</label>
        <input
          id="share-url-display"
          type="text"
          readonly
          class="readonly-field"
          placeholder="Shareable URL"
        />
      </div>
    </section>

    <footer>
      <p>
        Made with ❤️ by
        <a
          href="https://github.com/pi314ever"
          target="_blank"
          rel="noopener noreferrer"
          >Daniel</a
        >
        with
        <a
          href="https://openai.com/blog/openai-codex"
          target="_blank"
          rel="noopener noreferrer"
          >Codex</a
        >.
        <a
          href="https://github.com/cost-splits/cost-splits.github.io"
          aria-label="GitHub source code"
          class="github-link"
          target="_blank"
          rel="noopener noreferrer"
          ><img src="assets/github-mark.svg" alt="GitHub" class="github-icon" />
        </a>
      </p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.5.0/lz-string.min.js"></script>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
